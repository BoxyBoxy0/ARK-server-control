<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ARK Server Control</title>
    <style>
        :root{
          --bg:#0f1720;
          --card:#0b1220;
          --muted:#9aa6b2;
          --accent:#2b6cb0;
          --button:#1f2937;
          --button-hover:#323f4a;
          --border:#22313f;
        }

        html,body{height:100%}
        body {
          font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
          max-width: 820px;
          margin: 40px auto;
          background: linear-gradient(180deg,#06121a 0%, #071923 100%);
          color:#e6eef6;
          padding: 28px;
        }

        .container {
          background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
          border: 2px solid var(--border);
          border-radius: 12px;
          padding: 22px;
          box-shadow: 0 8px 30px rgba(2,6,23,0.6);
        }

        h1{margin-top:0; font-size:28px; letter-spacing:0.2px; color:#f5fbff}
        p{color:var(--muted)}
        #backend{font-weight:600;color:#cfe7ff;}

        .controls {margin: 16px 0;}
        button {
          padding: 10px 16px;
          margin-right: 10px;
          border-radius: 8px;
          border: 2px solid var(--border);
          background: var(--button);
          color: #eaf3ff;
          font-weight:700;
          cursor:pointer;
          box-shadow: 0 4px 8px rgba(0,0,0,0.45);
          transition: transform .08s ease, background .12s ease, box-shadow .12s ease;
        }
        button:hover{ background:var(--button-hover); transform: translateY(-1px);}
        button:active{ transform:translateY(0); box-shadow: 0 2px 6px rgba(0,0,0,0.5); }
        button:focus{ outline: 3px solid rgba(43,108,176,0.16); outline-offset:3px; }

        code { background: #07111a; padding: 4px 8px; border-radius:8px; color:#cfe7ff; border:1px solid var(--border); font-weight:600; }
        pre {
          background: linear-gradient(180deg,#07111a,#0b1622);
          padding: 14px;
          border-radius: 10px;
          overflow:auto;
          border: 2px solid var(--border);
          color:#d5e8ff;
          font-weight:600;
          box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
        }

        @media (max-width:520px){
          body{margin:18px}
          button{display:block;margin:8px 0;width:100%;}
        }
      </style>
  </head>
  <body>
    <div class="container">
      <h1>ARK Server Control</h1> 

    <p>
      Backend: <code id="backend"></code>
    </p>

    <div class="controls">
      <button onclick="status()">Status</button>
      <button onclick="start()">Start</button>
      <button onclick="stop()">Stop</button>
    </div>

    <h3>Output</h3>
    <pre id="out">Click a button…</pre>

    <script>
      const BACKEND_BASE_URL = "https://finniest-fransisca-ureido.ngrok-free.dev";
      // This token is visible in the frontend. For temporary use it’s OK, but don’t share the URL publicly.
      const CONTROL_TOKEN = "ark-panel-9f3k2lq8";

      document.getElementById("backend").textContent = BACKEND_BASE_URL;

      function show(x) {
        document.getElementById("out").textContent =
          typeof x === "string" ? x : JSON.stringify(x, null, 2);
      }

      async function status() {
        try {
          const r = await fetch(`${BACKEND_BASE_URL}/api/status`);
          const data = await r.json();
          show({ httpStatus: r.status, data });
        } catch (e) {
          show("Status failed: " + e);
        }
      }

      async function start() {
        try {
          const r = await fetch(`${BACKEND_BASE_URL}/api/start`, {
            method: "POST",
            headers: { "x-control-token": CONTROL_TOKEN }
          });
          const data = await r.json();
          show({ httpStatus: r.status, data });
        } catch (e) {
          show("Start failed: " + e);
        }
      }

      async function stop() {
        try {
          const r = await fetch(`${BACKEND_BASE_URL}/api/stop`, {
            method: "POST",
            headers: { "x-control-token": CONTROL_TOKEN }
          });
          const data = await r.json();
          show({ httpStatus: r.status, data });
        } catch (e) {
          show("Stop failed: " + e);
        }
      }
    </script>
    </div>
  </body>
</html>
